---
// src/components/FeaturedThinkers.astro
import interactions from '../data/featured_thinkers.json';
import ProfileCard from './ProfileCard.astro'; // <-- IMPORT YOUR CHOSEN BADGE
import thinkers from '../data/featured_thinkers.json'; // <-- Use the new curated file

console.log(`[FeaturedThinkers] The component is about to render ${thinkers.length} cards.`);

// Filter for people who you've added an image and title for
const topThinkers = interactions.filter(p => p.imageUrl && p.title).slice(0, 8);
---
<section class="py-16 bg-gray-100">
  <div class="container mx-auto px-6">
    <h2 class="text-3xl font-bold text-center text-gray-800 mb-4">Valued Colleagues & Thinkers</h2>
    <p class="text-center text-gray-600 mb-12 max-w-2xl mx-auto">
      This is a live look at the professionals whose work and insights I engage with most frequently on LinkedIn, based on an analysis of my activity.
    </p>
    <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8">
      {thinkers.filter(person => person && person.imageUrl && person.authorName).map(person => (
        <ProfileCard 
          name={person.authorName}
          title={person.title}
          imageUrl={person.imageUrl}
          profileUrl={person.profileUrl}
          count={person.interactionCount}
        />
      ))}
    </div>
  </div>
</section>